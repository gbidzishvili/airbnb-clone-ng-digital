<form
    class="registration-form"
    [formGroup]="registerForm"
    (ngSubmit)="onRegister()"
>
    <div class="form-header">
        <h1>
            {{ personalInfo ? "Update" : "Create" }}
            <span>{{ personalInfo ? "your" : "new" }} account</span>
        </h1>
    </div>
    <section>
        <mat-form-field appearance="outline" class="full-width">
            <mat-label>username</mat-label>
            <input
                formControlName="userName"
                matInput
                placeholder="Enter userName"
            />
            <mat-error *ngIf="registerForm.get('userName')?.invalid"
                >{{ validationSrv.getControlError(registerForm, "userName") }}
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
            <mat-label>email</mat-label>
            <input formControlName="email" matInput placeholder="Enter email" />
            <mat-error *ngIf="registerForm.get('email')?.invalid"
                >{{ validationSrv.getControlError(registerForm, "email") }}
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
            <mat-label>phone number</mat-label>
            <input
                formControlName="phoneNumber"
                placeholder="#########"
                maxlength="9"
                (keypress)="($event.charCode >= 48 && $event.charCode < 58)"
                type="tel"
                matInput
            />
            <!-- <mat-icon matSuffix>phone</mat-icon> -->
            <mat-error *ngIf="registerForm.get('phoneNumber')?.invalid"
                >{{
                    validationSrv.getControlError(registerForm, "phoneNumber")
                }}
            </mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline" class="full-width">
            <mat-label>personal number</mat-label>
            <input
                formControlName="personalNumber"
                placeholder="###########"
                maxlength="11"
                (keypress)="($event.charCode >= 48 && $event.charCode < 58)"
                type="tel"
                matInput
            />
            <!-- <mat-icon matSuffix>phone</mat-icon> -->
            <mat-error *ngIf="registerForm.get('personalNumber')?.invalid"
                >{{
                    validationSrv.getControlError(
                        registerForm,
                        "personalNumber"
                    )
                }}
            </mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline" class="full-width">
            <mat-label>Select an option</mat-label>
            <mat-select formControlName="gender">
                <mat-option *ngFor="let option of options" [value]="option">
                    {{ option }}
                </mat-option>
            </mat-select>
            <mat-error *ngIf="registerForm.get('gender')?.invalid"
                >{{ validationSrv.getControlError(registerForm, "gender") }}
            </mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline" class="full-width">
            <mat-label>password</mat-label>
            <input
                formControlName="password"
                matInput
                placeholder="Enter password"
                [type]="hidePass ? 'password' : 'text'"
            />
            <button
                type="button"
                mat-icon-button
                matSuffix
                (click)="hidePass = !hidePass"
            >
                <mat-icon>{{
                    hidePass ? "visibility_off" : "visibility"
                }}</mat-icon>
            </button>
            <mat-error *ngIf="registerForm.get('password')?.invalid"
                ><span>{{
                    validationSrv.getControlError(registerForm, "password")
                }}</span>
            </mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline" class="full-width">
            <mat-label>confirm password</mat-label>
            <input
                formControlName="confirmPassword"
                matInput
                placeholder="confirm password"
                [type]="hideConfirm ? 'password' : 'text'"
            />
            <button
                type="button"
                mat-icon-button
                matSuffix
                (click)="hideConfirm = !hideConfirm"
            >
                <mat-icon>{{
                    hideConfirm ? "visibility_off" : "visibility"
                }}</mat-icon>
            </button>
            <mat-error *ngIf="registerForm.get('confirmPassword')?.invalid"
                >{{
                    validationSrv.getControlError(
                        registerForm,
                        "confirmPassword"
                    )
                }}
            </mat-error>
        </mat-form-field>
        <button class="full-width submit" type="submit" mat-raised-button>
            {{ personalInfo ? "Update" : "Sign Up" }}
        </button>
    </section>
    <div class="form-footer">
        already have an account?
        <a (click)="gotoSignIn()">Sign in here</a>
    </div>
</form>
